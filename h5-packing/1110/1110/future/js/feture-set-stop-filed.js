new Vue({el:"#setStopOfFiled",data:{initAddBtn:!0,blueBtn:!1,stopFiledObj:{Direction:"",Volume:"",OffsetFlag:"",stopPrice:"",filedPrice:"",ExchangeCode:"",ContractCode:"",hyName:"沪铝1702",TimeCondition:1,ConditionChoiced:1,LimitPriceType:"对手价"}},methods:{priceInfoClick:function(t){1==t&&(this.stopFiledObj.LimitPriceType="涨停价"),2==t&&(this.stopFiledObj.LimitPriceType="跌停价"),3==t&&(this.stopFiledObj.LimitPriceType="对手价"),4==t&&(this.stopFiledObj.LimitPriceType="最新价")},blurInfo:function(){this.stopFiledObj.filedPrice&&this.stopFiledObj.stopPrice?(this.blueBtn=!0,this.initAddBtn=!1):this.stopFiledObj.filedPrice&&this.stopFiledObj.stopPrice||(this.blueBtn=!1,this.initAddBtn=!0)},btnConfirmClick:function(){var t=this,e=new stopOfFiled;e.AttachObject[0].Contract.ExchangeCode=t.stopFiledObj.ExchangeCode,e.AttachObject[0].Contract.ContractCode=t.stopFiledObj.ContractCode,e.AttachObject[0].Direction=t.stopFiledObj.Direction,e.AttachObject[0].Volume=t.stopFiledObj.Volume,e.Contracts[0]={ExchangeCode:t.stopFiledObj.ExchangeCode,ContractCode:t.stopFiledObj.ContractCode},t.stopFiledObj.stopPrice&&(e.ConditionList[0].PositionStop.AbsoluteStopLoss=!0),e.ConditionList[0].PositionStop.StopLossPrice=t.stopFiledObj.stopPrice,e.ConditionList[0].PositionStop.StopProfitPrice=t.stopFiledObj.filedPrice,e.OrderAction.SmartOrder.Order.Contract.ExchangeCode=t.stopFiledObj.ExchangeCode,e.OrderAction.SmartOrder.Order.Contract.ContractCode=t.stopFiledObj.ContractCode,e.OrderAction.SmartOrder.Order.Volume=t.stopFiledObj.Volume,e.OrderAction.SmartOrder.Order.Direction=t.stopFiledObj.Direction,e.OrderAction.SmartOrder.Order.OffsetFlag=t.stopFiledObj.OffsetFlag,e.OrderAction.SmartOrder.Order.LimitPriceType=t.stopFiledObj.LimitPriceType,console.log(e),$.ajax({url:conditionUrl,method:"post",dataType:"json",contentType:"application/json;charest=utf-8",data:JSON.stringify({func:addContract,token:testToken,id:id,SCDM:t.stopFiledObj.ExchangeCode,HYDM:t.stopFiledObj.hyName,type:stopFiledType,terminal:"",userID:10001,data:e}),success:function(t){0==t.status&&(console.log("设置成功！"),window.location.href="feture-stop-filled.html")},error:function(){console.log("服务器异常！")}})}}});