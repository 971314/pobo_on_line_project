define(function(t,i,n){function o(t,i){a=t;var n=0,o=a.eleImg.find("img");!function t(){if(n===r.length)return i;n++,$.validatorUtils.isNotEmpty(a.parantid);var c=e();c(o[n-1]).always(t)}()}function r(t,i){t.src=i}function e(){function t(){n=setTimeout(function(){e.reject("timeout")},a.lodingtimeout)}function i(){n&&clearTimeout(n)}var n,o=new Image,e=$.Deferred();return o.onload=function(){e.resolve(this.src)},o.onabort=function(){e.reject("aborted")},o.onerror=function(){e.reject("error")},function(n,c){e.always(function(){i()}).done(function(t){r(n,t)}).fail(function(t){r(n,a.loadFailed)});var f=n.src;return r(n,a.loading),o.src=f,$.validatorUtils.isNotEmpty(a.width)&&(o.width=a.width),$.validatorUtils.isNotEmpty(a.height)&&(o.height=a.height),a.bindOnclick&&(n.onclick=function(){$(n).attr("href")&&window.open($(n).attr("href"))}),t(),e.promise()}}t("validatorUtils");var a,c={imgload:o};n.exports=c});