define("2.0.0/js/plugins/iscroll/scripts/vIscroll.js",function(l,i,s){function e(i){var s=this,e=null;i.oPullDownTips=$.extend({still:"下拉加载上一页",flip:"释放加载上一页",loading:"正在加载..."},i.oPullDownTips||{}),i.oPullUpTips=$.extend({still:"上拉加载下一页",flip:"释放加载下一页",loading:"正在加载..."},i.oPullUpTips||{}),i.wrapper.find(".visc_pullUp").length>0&&i.wrapper.find(".visc_pullUp").show(),i.wrapper.find(".visc_pullDown").length>0&&i.wrapper.find(".visc_pullDown").show(),0==i.hasPullDown&&i.wrapper.find(".visc_pullDown").length>0&&i.wrapper.find(".visc_pullDown").hide(),this.getWrapperObj=function(){return e},this.setCssHW=function(){var l=0;l=i.isPagingType?i.rowNum*i.perRowHeight+(i.headRowHeight||0):i.visibleHeight,i.container.css({position:"relative",height:l+"px"})},this.refresh=function(l){if(i.isPagingType&&l){var s=(l?l:i.rowNum)*i.perRowHeight+(i.headRowHeight||0);i.container.css({position:"relative",height:s+"px"})}else l=l.visibleHeight,i.container.css({position:"relative",height:l+"px"});1==i.isPagingType&&i.wrapper.find(".visc_pullUp").hide(),e.refresh()},this.init=function(){function p(l){"up"==l?i.upHandle&&i.upHandle():i.downHandle&&i.downHandle()}if(!i.wrapper[0])return console.log("请检查wrapper元素是否正确！"),!1;s.setCssHW(),i.wrapper.find(".visc_pullDown .visc_pullDownTime").html((new Date).format("HH:mm:ss")),i.wrapper.find(".visc_pullUp .visc_pullUpTime").html((new Date).format("HH:mm:ss"));var t=i.wrapper[0].querySelector(".visc_pullDown"),r=t.offsetHeight,c=i.wrapper[0].querySelector(".visc_pullUp");c.offsetHeight,setTimeout(function(){var s={hScroll:!1,hScrollbar:!1,vScrollbar:!i.isPagingType,fadeScrollbar:!0,topOffset:r,onBeforeScrollStart:function(l){var i=l.explicitOriginalTarget?l.explicitOriginalTarget.nodeName.toLowerCase():l.target?l.target.nodeName.toLowerCase():"";"select"!=i&&"option"!=i&&"input"!=i&&"textarea"!=i&&l.preventDefault()},onRefresh:function(){t.className.match("visc_pullDown visc_loading")?(t.className="visc_pullDown",t.querySelector(".visc_pullDownLabel").innerHTML=i.oPullDownTips.still,t.querySelector(".visc_pullDownTime").innerHTML=(new Date).format("HH:mm:ss")):c.className.match("visc_pullUp visc_loading")&&(c.className="visc_pullUp",c.querySelector(".visc_pullUpLabel").innerHTML=i.oPullUpTips.still,c.querySelector(".visc_pullUpTime").innerHTML=(new Date).format("HH:mm:ss"))},onScrollMove:function(){i.isPagingType||!i.isPagingType&&i.visibleHeight>i.wrapper.find(".visc_scroller").height()?(this.distY>50&&this.absDistY>this.absDistX+5?(t.className="visc_pullDown visc_flip",t.querySelector(".visc_pullDownLabel").innerHTML=i.oPullDownTips.flip,this.minScrollY=0):this.distY>0&&this.distY<50&&this.absDistY>this.absDistX+5?(t.className="visc_pullDown",t.querySelector(".visc_pullDownLabel").innerHTML=i.oPullDownTips.still,this.minScrollY=-r):this.distY<-50&&this.absDistY>this.absDistX+5?(c.className="visc_pullUp visc_flip",c.querySelector(".visc_pullUpLabel").innerHTML=i.oPullUpTips.flip):this.distY<0&&this.distY>-50&&this.absDistY>this.absDistX+5&&(c.className="visc_pullUp",c.querySelector(".visc_pullUpLabel").innerHTML=i.oPullUpTips.still),i.isPagingType===!0&&"none"===i.wrapper.find(".visc_pullUp").css("display")&&i.wrapper.find(".visc_pullUp").show()):this.y>10&&!t.className.match("visc_pullDown visc_flip")?(t.className="visc_pullDown visc_flip",t.querySelector(".visc_pullDownLabel").innerHTML=i.oPullDownTips.flip,this.minScrollY=0):this.y<10&&t.className.match("visc_pullDown visc_flip")?(t.className="visc_pullDown",t.querySelector(".visc_pullDownLabel").innerHTML=i.oPullDownTips.still,this.minScrollY=-r):this.y<this.maxScrollY-10&&!c.className.match("visc_pullUp visc_flip")?(c.className="visc_pullUp visc_flip",c.querySelector(".visc_pullUpLabel").innerHTML=i.oPullUpTips.flip):this.y>this.maxScrollY+10&&c.className.match("visc_pullUp visc_flip")&&(c.className="visc_pullUp",c.querySelector(".visc_pullUpLabel").innerHTML=i.oPullUpTips.still)},onScrollEnd:function(){t.className.match("visc_pullDown visc_flip")?(t.className="visc_pullDown visc_loading",t.querySelector(".visc_pullDownLabel").innerHTML=i.oPullDownTips.loading,p("down",i.wrapper)):c.className.match("visc_pullUp visc_flip")&&(c.className="visc_pullUp visc_loading",c.querySelector(".visc_pullUpLabel").innerHTML=i.oPullUpTips.loading,p("up",i.wrapper))}};$.device.android&&(s.hideScrollbar=!0),l.async("2.0.0/js/plugins/iscroll/scripts/iscroll4.js",function(l){n=l,e=new n(i.wrapper[0],s)})},0),setTimeout(function(){i.wrapper[0].style.left="0"},200)},this.destroy=function(){null!=e&&(e.destroy(),e=null)},0==$("head>link[href*='2.0.0/js/plugins/iscroll/css/iscroll4-custom.css']").length?$.loadCss("2.0.0/js/plugins/iscroll/css/iscroll4-custom.css",s.init):s.init()}var p=seajs.resolve("vIscroll");p=p.substring(0,p.lastIndexOf("/"));var n=null;s.exports=e});