define("2.0.0/js/plugins/keypanel/scripts/keyPanel.js",function(e,t,n){function a(){return h=Object.create({init:i,close:r,get version(){return"1.0.2"},get updateDate(){return"2015-10-13 15:46:40"}})}function i(t,n,a,i){f();var u=function(){h.keyPanelType=n,h.config=i||{},h.$input=$(t),h.$inputEM=h.$input.find("em"),h.inputPlaceholder=h.$input.attr("data-placeholder")||h.$input.attr("placeholder")||"",h.$input.maxlength=h.$input.attr("maxlength")||1e5,h.isPassword="undefined"!=typeof a&&a,"1"==n?n="2.0.0/js/plugins/keypanel/scripts/keyType1.js":"2"==n?n="2.0.0/js/plugins/keypanel/scripts/keyType2.js":"3"==n?n="2.0.0/js/plugins/keypanel/scripts/keyType3.js":"4"==n?n="2.0.0/js/plugins/keypanel/scripts/keyType4.js":"5"==n?n="2.0.0/js/plugins/keypanel/scripts/keyType5.js":"6"==n?n="2.0.0/js/plugins/keypanel/scripts/keyType6.js":"7"==n?n="2.0.0/js/plugins/keypanel/scripts/keyType7.js":"8"==n?n="2.0.0/js/plugins/keypanel/scripts/keyType8.js":"9"==n&&(n="2.0.0/js/plugins/keypanel/scripts/keyType9.js"),e.async(n,function(e){s(),"function"==typeof h.config.beforeInitFunc&&h.config.beforeInitFunc(),p(),"function"==typeof h.config.afterInitFunc&&h.config.afterInitFunc()})};l(i.skinName,u)}function l(e,t){var n="";switch(e=e||"default"){case"default":n="2.0.0/js/plugins/keypanel/css/keypanel_keyword_default.css";break;case"white":n="2.0.0/js/plugins/keypanel/css/keypanel_keyword_white.css";break;case"black":n="2.0.0/js/plugins/keypanel/css/keypanel_keyword_black.css";break;case"default2":n="2.0.0/js/plugins/keypanel/css/keypanel_keyword_default2.css"}$("head>link[href*='plugins/keypanel/css/keypanel_keyword']").each(function(){-1===$(this).attr("href").indexOf(n)&&$(this).remove()}),0===$("head>link[href*='plugins/keypanel/css/keypanel_keyword']").length?$.loadCss(n,t):t&&t()}function s(){switch(h.keyPanelType=h.keyPanelType||"1",Number(h.keyPanelType)){case 1:h.keyPanelHtml=$.keyType1.createKeyPanelHtml(),h.keyPanelId=$.keyType1.keyPanelId;break;case 2:h.keyPanelHtml=$.keyType2.createKeyPanelHtml(),h.keyPanelId=$.keyType2.keyPanelId;break;case 3:h.keyPanelHtml=$.keyType3.createKeyPanelHtml(),h.keyPanelId=$.keyType3.keyPanelId;break;case 4:h.keyPanelHtml=$.keyType4.createKeyPanelHtml(),h.keyPanelId=$.keyType4.keyPanelId;break;case 5:h.keyPanelHtml=$.keyType5.createKeyPanelHtml(),h.keyPanelId=$.keyType5.keyPanelId;break;case 6:h.keyPanelHtml=$.keyType6.createKeyPanelHtml(),h.keyPanelId=$.keyType6.keyPanelId;break;case 7:h.keyPanelHtml=$.keyType7.createKeyPanelHtml(),h.keyPanelId=$.keyType7.keyPanelId;break;case 8:h.keyPanelHtml=$.keyType8.createKeyPanelHtml(),h.keyPanelId=$.keyType8.keyPanelId;break;case 9:h.keyPanelHtml=$.keyType9.createKeyPanelHtml(),h.keyPanelId=$.keyType9.keyPanelId}}function p(){h.$keyPanel=$("#"+h.keyPanelId),"DIV"==h.$input[0].tagName&&0==h.$inputEM.length?(h.$input.html("<em></em>"),h.$inputEM=h.$input.find("em")):"DIV"==h.$input[0].tagName&&1==h.$inputEM.length&&h.$inputEM.html()==h.inputPlaceholder&&(h.$inputEM.html(""),h.$input.attr("value",""),h.$input.val("")),h.$keyPanel.length<=0&&(h.$keyPanel=$(h.keyPanelHtml),$("body").append(h.$keyPanel)),h.$keyPanel.css("display","block"),setTimeout(k,20),h.$input.removeAttr("data-placeholder").attr("placeholder",h.inputPlaceholder),h.$input.addClass("active"),h.$keyPanel.siblings(".keyword_table").css("display","none"),u()}function u(){var e=$.device.pc?"mousedown":"touchstart",t=$.device.pc?"mouseup":"touchend";$.bindEvent(h.$keyPanel,function(e){e.preventDefault(),e.stopPropagation()},"touchmove"),$.bindEvent(h.$keyPanel.find("a"),function(e){$(this).hasClass("capital")||$(this).addClass("active"),e.stopPropagation(),e.preventDefault()},e),$.bindEvent(h.$keyPanel.find("a"),function(e){$(this).removeClass("active"),e.stopPropagation()},"touchcancel"),$.bindEvent(h.$keyPanel.find("a"),function(e){$(this).hasClass("capital")||$(this).removeClass("active"),c($(this)),e.stopPropagation()},t)}function c(e){var t=e.html(),n=null,a=null;if(h.$inputEM.length<1&&(h.$inputEM=$("<em></em>"),h.$input.attr("value",""),h.$input.val("")),a=h.$inputEM.html(),n=null===h.$input.attr("value")||"undefined"==typeof h.$input.attr("value")?"":h.$input.attr("value"),e.hasClass("hide"))r();else if(e.hasClass("space"))a+=t,n+=" ",h.$inputEM.html(a),h.$input.attr("value",n),h.isPassword&&h.$inputEM.html(a.replace(/(&nbsp;)$/,"*")),n.length>h.$input.maxlength&&o(a,n),d&&(d=null),d=document.createEvent("Event"),d.initEvent("input",!0,!0),d.detail={optType:"space",curValue:" "},h.$input[0].dispatchEvent(d);else if(e.hasClass("del"))o(a,n),d&&(d=null),d=document.createEvent("Event"),d.initEvent("input",!0,!0),d.detail={optType:"del"},h.$input[0].dispatchEvent(d);else if(e.hasClass("max")||e.hasClass("half")){var i=h.$input.attr("max-value");for(i=null===i||"undefined"==typeof i?100:+i,t=e.hasClass("max")?i:i/2,h.$inputEM.html(t),h.$input.attr("value",t),h.isPassword&&h.$inputEM.html(h.$inputEM.html().replace(/[a-zA-Z0-9\.]/g,"*"));n.length>h.$input.maxlength;)o(a,n),n=h.$input.attr("value"),a=h.$inputEM.html();d&&(d=null),d=document.createEvent("Event"),d.initEvent("input",!0,!0),d.detail={optType:"normal",curValue:t},h.$input[0].dispatchEvent(d)}else if(e.hasClass("n123"))"true"===h.$input.attr("is-stock-input")?h.init(h.$input[0],5,h.isPassword,h.config):h.init(h.$input[0],2,h.isPassword,h.config);else if(e.hasClass("abc"))h.init(h.$input[0],4,h.isPassword,h.config);else if(e.hasClass("ok"))r(),"function"==typeof h.config.okFunc&&h.config.okFunc();else if(e.hasClass("clear"))h.$inputEM.html(""),h.$input.attr("value",""),h.$input.val(""),d&&(d=null),d=document.createEvent("Event"),d.initEvent("input",!0,!0),d.detail={optType:"clear",curValue:""},h.$input[0].dispatchEvent(d);else if(e.hasClass("capital"))e.toggleClass("active"),y(e);else if(/^\d{3}$/g.test(t)&&3===t.length){for(a+=t,n+=t,h.$inputEM.html(a),h.$input.attr("value",n),h.isPassword&&h.$inputEM.html(a.replace(/\d$/,"*"));n.length>h.$input.maxlength;)o(a,n),n=h.$input.attr("value"),a=h.$inputEM.html();d&&(d=null),d=document.createEvent("Event"),d.initEvent("input",!0,!0),d.detail={optType:"stock",curValue:t},h.$input[0].dispatchEvent(d)}else e.hasClass("keyDiv")?(d&&(d=null),d=document.createEvent("Event"),d.initEvent("input",!0,!0),d.detail={optType:"keyDiv",keyDiv:e},h.$input[0].dispatchEvent(d)):(t="Â·"===t?".":t,a+=t,n+=t,h.$inputEM.html(a),h.$input.attr("value",n),h.isPassword&&h.$inputEM.html(a.replace(/[a-zA-Z0-9\.]/,"*")),(n.length>h.$input.maxlength||"."===n||n.indexOf(".")!=n.lastIndexOf("."))&&o(a,n),d&&(d=null),d=document.createEvent("Event"),d.initEvent("input",!0,!0),d.detail={optType:"normal",curValue:t},h.$input[0].dispatchEvent(d))}function y(e){var t=h.$keyPanel.find("a");t.each(function(){var t=$(this).html();1===t.length&&/[a-zA-Z]/.test(t)&&(t=e.hasClass("active")?t.toUpperCase():t.toLowerCase(),$(this).html(t).attr("key",t))})}function o(e,t){e.length>0&&(e=/.*&nbsp;+$/.test(e)?e.slice(0,-6):e.slice(0,-1),t=t.slice(0,-1),h.$inputEM.html(e),h.$input.attr("value",t),h.$input.val(t))}function r(){h.$keyPanel&&h.$keyPanel.length>0&&(f(),"function"==typeof h.config.beforeCloseFunc&&h.config.beforeCloseFunc(),h.config.isSaveDom||"undefined"==typeof h.config.isSaveDom?h.$keyPanel.css("display","none"):h.$keyPanel.remove(),h.$keyPanel=null,"function"==typeof h.config.afterCloseFunc&&h.config.afterCloseFunc())}function k(){var e=h.$input.parents('[key-panel-main="true"]');if(e&&e.length>0){var t=h.$input.offset().top,n=h.$input.height(),a=h.$keyPanel.offset().top,i=t+n+20-a,l=e.css("margin-top").slice(0,-2);h.inputMainExtraOffset=i,h.$inputMain=e,i>0&&h.$inputMain.css("margin-top",+l-h.inputMainExtraOffset+"px")}}function f(){if(h&&h.$input&&h.$input.length>0){var e=h.$input.attr("value");if("DIV"!==h.$input[0].tagName||""!==e&&null!==e&&"undefined"!=typeof e||h.$inputEM.html(h.$input.attr("placeholder")),h.$input.removeClass("active"),h.$inputMain&&h.$inputMain.length>0&&h.inputMainExtraOffset>0){var t=h.$inputMain.css("margin-top").slice(0,-2);h.$inputMain.css("margin-top",+t+h.inputMainExtraOffset+"px"),h.$inputMain=null,h.inputMainExtraOffset=0}}}var d=null,h=null;$.KeyPanel=a});