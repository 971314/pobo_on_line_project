function delIcon(t,i){for(var n=0;n<i.length;n++)if(i[n].title==t)return i.remove(i[n]),i}if(Array.prototype.remove=function(t){var i=this.indexOf(t);i>-1&&this.splice(i,1)},pbEngine.isHasLocalFile("H5LocalData1.json")){var icon1=pbEngine.readLocalFile("H5LocalData1.json");icon1&&(iconInit=JSON.parse(icon1))}for(var icon=iconInit.contents,iconAdd=[],notAddArr=[],addList="",notAdd="",i=0;i<icon.length;i++)1==icon[i].checked?(addList+='<li class="a2 lh50"><img src="" class="delete" width="26" height="26">'+icon[i].title+'<span class="drag-handle pull-right"></span></li>',iconAdd.push(icon[i])):0==icon[i].checked&&(notAdd+='<li class="a2 lh50"><img src="" class="add" width="26" height="26">'+icon[i].title+'<span class="drag-handle pull-right"></span></li>',notAddArr.push(icon[i]));$("#added").prepend(addList),$("#added>li>img").attr("src","images/sub.png"),$("#not-added").prepend(notAdd),$("#not-added>li>img").attr("src","images/add.png");var shiftAN=function(){var t=$(this).parent().text().substring(0,$(this).parent().text().length);delIcon(t,iconAdd);for(var i=0;i<icon.length;i++)icon[i].title==t&&(icon[i].checked="0",notAddArr.unshift(icon[i]));var n=$(this).parent();$(this).parent().remove(),$("#not-added").prepend(n),$("#not-added>li:first-child>img").removeClass("delete"),$("#not-added>li:first-child>img").addClass("add"),$("#not-added>li:first-child>img").attr("src","images/add.png"),$("#not-added>li:first-child>img").click(shiftNA),icon=Array.prototype.concat.apply(iconAdd,notAddArr),iconInit.contents=icon,pbEngine.writeLocalFile("H5LocalData1.json",JSON.stringify(iconInit))},shiftNA=function(){var t=$(this).parent().text().substring(0,$(this).parent().text().length);delIcon(t,notAddArr);for(var i=0;i<icon.length;i++)icon[i].title==t&&(icon[i].checked="1",iconAdd.push(icon[i]));var n=$(this).parent();$(this).parent().remove(),n.removeClass("add"),n.addClass("delete"),$("#added").append(n),$("#added>li:last-child>img").removeClass("add"),$("#added>li:last-child>img").addClass("delete"),$("#added>li:last-child>img").attr("src","images/sub.png"),$("#added>li:last-child>img").click(shiftAN),icon=Array.prototype.concat.apply(iconAdd,notAddArr),iconInit.contents=icon,pbEngine.writeLocalFile("H5LocalData1.json",JSON.stringify(iconInit))};$(".delete").click(shiftAN),$(".add").click(shiftNA);var byId=function(t){return document.getElementById(t)};Sortable.create(byId("added"),{handle:".drag-handle",animation:150,group:"sorting",sort:!0,onEnd:function(){var t=iconAdd.length,i=$("#added>li").length,n=[],d=[];i<t&&$("#not-added>li>img").attr("src","images/add.png"),$.each($("#added>li"),function(){for(var t=$(this).text().substring(0,$(this).text().length),i=0;i<iconAdd.length;i++)if(iconAdd[i].title==t){iconAdd[i].checked="1",n.push(iconAdd[i]);break}}),iconAdd=n,$.each($("#not-added>li"),function(){for(var t=$(this).text().substring(0,$(this).text().length),i=0;i<icon.length;i++)if(icon[i].title==t){icon[i].checked="0",d.push(icon[i]);break}}),notAddArr=d,icon=Array.prototype.concat.apply(iconAdd,notAddArr),iconInit.contents=icon,pbEngine.writeLocalFile("H5LocalData1.json",JSON.stringify(iconInit))}}),Sortable.create(byId("not-added"),{handle:".drag-handle",animation:150,group:"sorting",sort:!0,onEnd:function(){var t=notAddArr.length,i=$("#not-added>li").length,n=[],d=[];i<t&&$("#added>li>img").attr("src","images/sub.png"),$.each($("#not-added>li"),function(){for(var t=$(this).text().substring(0,$(this).text().length),i=0;i<notAddArr.length;i++)if(notAddArr[i].title==t){notAddArr[i].checked="0",d.push(notAddArr[i]);break}}),notAddArr=d,$.each($("#added>li"),function(){for(var t=$(this).text().substring(0,$(this).text().length),i=0;i<icon.length;i++)if(icon[i].title==t){icon[i].checked="1",n.push(icon[i]);break}}),iconAdd=n,icon=Array.prototype.concat.apply(iconAdd,notAddArr),iconInit.contents=icon,pbEngine.writeLocalFile("H5LocalData1.json",JSON.stringify(iconInit))}});